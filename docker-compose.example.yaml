name: hytale-server
services:
  hytale-server:
    image: ghcr.io/hoobio/hytale-server:latest
    container_name: hytale-server
    restart: unless-stopped
    
    ports:
      - "5520:5520/udp"
    
    volumes:
      - ./data:/data
    
    environment:
      # Server configuration
      SERVER_NAME: "Hoobio Hytale Server"  # Your server name
      PORT: "5520"  # Server port (default: 5520)
      PATCHLINE: "release"  # Options: release, beta, alpha
      
      # Server settings (optional)
      MOTD: ""  # Message of the day (default: empty)
      PASSWORD: ""  # Server password (default: empty = no password)
      MAX_PLAYERS: "100"  # Maximum concurrent players (default: 100)
      MAX_VIEW_RADIUS: "32"  # Maximum view distance in chunks (default: 32)
      
      # Container behavior (optional)
      UPDATE_ON_STARTUP: "true"  # Check for server updates on startup (default: true)
      REFRESH_INTERVAL: "86400"  # Token refresh interval in seconds (default: 86400 = 24 hours)
      
      # Backup settings (optional)
      BACKUPS_ENABLED: "true"  # Enable automatic backups (default: true)
      BACKUP_DIR: "/data/backups"  # Directory to store backups (default: /data/backups)
      BACKUP_FREQUENCY: "30"  # Backup frequency in minutes (default: 30)
      BACKUP_MAX_COUNT: "5"  # Maximum number of backups to keep (default: 5)
      
      # User/Group IDs (optional, defaults to 1000)
      # PUID: "1000"  # User ID for file ownership
      # PGID: "1000"  # Group ID for file ownership
      
      # Log filtering (optional, pipe-separated regex patterns)
      # LOG_FILTERS: "ERROR.*connection timeout|DEBUG.*verbose"
    stdin_open: true
    tty: true
